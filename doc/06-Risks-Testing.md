# 风险、测试与验收

## 1. 主要风险与应对
- 国际物流复杂度高：
  - 先以固定模板（按重量/地区分段）落地；逐步细化。
- 筛选/搜索性能：
  - 初期基于 `metadata` 与 `tags` 简化过滤；数据量增大后评估搜索服务接入。
- 内容治理（无外部 CMS）：
  - 通过 Admin API 管理，必要时在后台增富文本编辑能力；保留扩展空间。
- 合规与安全：
  - 支付由网关托管；后端输入校验、速率限制、CORS 白名单；日志脱敏。

## 2. 测试策略
- 后端
  - 单元：模块 Service 方法、数据校验。
  - 集成：Store/Admin API 路由契约与边界。
  - 端到端（可选）：下单流程（匿名/登录）。
- 前端
  - 组件/页面渲染与路由；数据函数契约（可用 MSW 模拟）。
  - 关键流程：加购、结账、复购；错误态与空态。
- 非功能
  - 性能基线：LCP < 2.5s；重要页面 TTFB 与交互就绪在可接受范围。
  - 可用性：移动端断网/弱网降级；A11y 检查。

## 3. 验收标准
- 核心功能
  - 可基于分类/产地/风味完成筛选与下单。
  - 商品详情展示冲泡建议（覆盖优先，回落到指南）。
  - 产地与指南页可 SEO 索引（sitemap 收录）。
- 质量门槛
  - API 与前端主要路径具备测试覆盖；
  - 性能指标达标；
  - 安全与配置检查通过（环境变量、CORS、密钥）。
